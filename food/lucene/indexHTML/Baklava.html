<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Foodie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Loading Bootstrap -->
    <link href="bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="css/flat-ui.css" rel="stylesheet">

    <link rel="shortcut icon" href="images/favicon.ico">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
  </head>
  <body onload="load()">
    <div class="container">
		<nav style="margin-top:20px" class="navbar navbar-inverse navbar-embossed" role="navigation">
			<div class="navbar-header">
				<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-collapse-04">
					<span class="sr-only">
						Toggle navigation
					</span>
				</button>
				<a class="navbar-brand" href="index.py">
					Foodie
				</a>
			</div>
			<div id="navbar-collapse-04" class="collapse navbar-collapse">
				<form class="navbar-form navbar-left" role="search" action="search.py" method="GET">
					<div class="form-group">
						<input class="form-control" type="text" placeholder="Search" name="q"></input>
					</div>
					<button class="btn btn-default" type="submit">
						Search
					</button>
				</form>
			</div>
		</nav>
		<h3 id="title" style="display:inline"> Baklava </h3><span>Fruit,Nuts,Greek,European,Low in...,Weeknight,Oven,Time to make,Equipment,Number of servings</span><br/>
		<div  style="padding:3px;border: solid #34495E 1px;width:auto;clear:both;overflow:auto;float:left;margin-right:40px" ><img style="" height="200px" src="http://img.food.com/img/recipes/59/86/3/large/picJ1X0eY.jpg" /></div>
		<h5> Ingredients </h5>
		<table width="400px"><tr><td> <ul><li>honey (preferably Greek thyme honey, but no biggy if you can't get it. DO use a good quality honey, though)</li><li>water</li><li>sugar</li><li>cinnamon sticks (or 1/2 teaspoon ground cinnamon)</li><li>lemon juice</li><li>coarsley ground walnuts (very fresh)</li><li>coarsley ground almonds (make sure the nuts you use are FRESH, very recently purchased)</li><li>sugar</li><li>cinnamon</li><li>nutmeg</li><li>ground cloves</li><li>melted butter</li><li>phyllo dough</li><li>unsalted butter, melted (don't use less, this is what will make your baklava taste exceptional, and it has to be BUTTER!)</li></ul> </td></tr></table>
		<h5> Method </h5>
		<div> <ol><li>Make syrup first so that it can come to room temperature:  In a small saucepan, combine honey, sugar and water.  Bring to a slow boil, stirring occasionally, until the sugar is dissolved.  Add lemon juice, cinnamon sticks and peels and cook over a medium heat for 10 minutes, until slightly thickened.  Remove peels and cinnamon sticks and allow to come to room temperature before using.</li><li>Combine walnuts, almonds, sugar, cinnamon, nutmeg, ground cloves and 3 tablespoons melted butter together in a bowl and mix thoroughly.</li><li>Place phyllo between sheets of waxed paper and cover with a slightly damp towel to prevent phyllo from drying out.  Brush bottom and sides of an 18x12-inch inch pan generously with melted butter.</li><li>Place 8 phyllo sheets into bottom of pan, brushing each sheet generously with butter.  Take an additional 4 sheets of phyllo and place in pan allowing sheets to drape over each of the 4 sides of pan.  Brush these with melted butter.</li><li>Spread 2 cups of nut mixture into pan, distributing evenly over bottom.  Fold over the overlapping phyllo sheets brushing each with butter, to envelop the nut mixture.</li><li>Repeat layering process 2 more times to form 3 nut layers.</li><li>Top pastry with remaining phyllo dough and generously brush top layer with melted butter.  Tuck in the buttered phyllo neatly around.</li><li>Score through top layers of pastry with a sharp knife making 6 strips lengthwise then cut 10 strips diagonally to form diamond shaped pieces.  Stud each diamond-shaped piece (and any odd looking ones near the ends of the pan) in the centre with a whole clove per piece.  Pour remaining melted butter over pastry and lightly sprinkle some water on top too (wet your hand under the tap twice and shake this out over the pastry).</li><li>Bake pastry in a 325Â°F oven for 1 hour to 75 minutes, until nicely golden-brown.  Allow to cool for 5 minutes.  Carefully spoon cool syrup over pastry.  Allow to stand at least 3 hours or overnight.  Cut through the scored pieces and serve.</li><li>Note:  The clove studding each piece is not traditionally eaten, it is removed by the person whose piece it is before eating.  The clove is there to add its 'perfume' to the piece as it bakes (and it looks pretty, too).</li><ol> </div>
		<h5> Reviews </h5>
		<div>Your Rating:&nbsp;&nbsp; <b id="sliderValue">0</b><p/>
			<div style="width:200px" id="slider" class="ui-slider" ></div>
		</div>
		<button class="btn btn-embossed btn-primary" onclick="submitRating()">
			Submit Rating
		</button>
		<div id="submsg"> </div>
		<br/><br/><br/><br/><br/>
	</div>
    <!-- /.container -->


    <!-- Load JS here for greater good =============================-->
	
    <script src="js/jquery-1.8.3.min.js"></script>
    <script src="js/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="js/jquery.ui.touch-punch.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-select.js"></script>
    <script src="js/bootstrap-switch.js"></script>
    <script src="js/flatui-checkbox.js"></script>
    <script src="js/flatui-radio.js"></script>
    <script src="js/jquery.tagsinput.js"></script>
    <script src="js/jquery.placeholder.js"></script>
	<script>
	function load(){
		var $slider = $("#slider");
		if ($slider.length > 0) {
		  $slider.slider({
			min: 0,
			max: 5,
			value: 0,
			orientation: "horizontal",
			range: "min",
			change: function(e){
					$('#sliderValue').html($("#slider").slider("option","value"))
				}
		  }).addSliderSegments($slider.slider("option").max);
		}
	}
	</script>
	<script>
	function submitRating(){
		var xhr = new XMLHttpRequest();
		url = "http://localhost/food/rating.py?rating="+document.getElementById("sliderValue").innerHTML+"&recipe="+encodeURIComponent(document.getElementById("title").innerHTML)
		xhr.open("GET",url,true)
		xhr.onreadystatechange =  function(){
			if(xhr.readyState == 4 && xhr.status == 200)
			{
				document.getElementById("submsg").innerHTML = xhr.responseText
				//alert(xhr.responseText)
			}
		}
		xhr.send()
		
	}
	</script>
  </body>
</html>