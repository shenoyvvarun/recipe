<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Foodie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Loading Bootstrap -->
    <link href="bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="css/flat-ui.css" rel="stylesheet">

    <link rel="shortcut icon" href="images/favicon.ico">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
  </head>
  <body onload="load()">
    <div class="container">
		<nav style="margin-top:20px" class="navbar navbar-inverse navbar-embossed" role="navigation">
			<div class="navbar-header">
				<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-collapse-04">
					<span class="sr-only">
						Toggle navigation
					</span>
				</button>
				<a class="navbar-brand" href="index.py">
					Foodie
				</a>
			</div>
			<div id="navbar-collapse-04" class="collapse navbar-collapse">
				<form class="navbar-form navbar-left" role="search" action="search.py" method="GET">
					<div class="form-group">
						<input class="form-control" type="text" placeholder="Search" name="q"></input>
					</div>
					<button class="btn btn-default" type="submit">
						Search
					</button>
				</form>
			</div>
		</nav>
		<h3 id="title" style="display:inline"> Tiramisu Cupcakes (Uses Cake Mix) </h3><span>European,Wedding,Brunch,For large groups,Time to make,Number of servings</span><br/>
		<div  style="padding:3px;border: solid #34495E 1px;width:auto;clear:both;overflow:auto;float:left;margin-right:40px" ><img style="" height="200px" src="http://img.food.com/img/recipes/30/49/82/large/picSBmvBB.jpg" /></div>
		<h5> Ingredients </h5>
		<table width="400px"><tr><td> <ul><li>white cake mix</li><li>eggs</li><li>oil</li><li>water</li><li>water, boiling</li><li>confectioners' sugar</li><li>instant coffee</li><li>mascarpone cheese (from tub)</li><li>Kahlua (or coffee extract)</li><li>sweetened condensed milk</li><li>french vanilla cool whip</li><li>cream cheese, softened</li><li>butter, softened</li><li>confectioners' sugar</li><li>vanilla extract</li></ul> </td></tr></table>
		<h5> Method </h5>
		<div> <ol><li>Make mascarpone filling mix first & allow to chill 4-6 hours or overnight.</li><li>Mascarpone filling: Beat mascarpone, Kahlua and condensed milk until well blended. Fold in cool whip.  Chill 4-6 hours.</li><li>Prepare cupcakes as directed on box of white cake mix & bake accordingly.  While these are baking prepare the liquid coffee as below.</li><li>Liquid Coffee: Boil 2/3 cup water in microwave (or boil on stove) and stir in instant coffee then powdered sugar & allow to cool to tepid.  Once cooled, use a fork to poke holes into cupcakes so that they will absorb the liquid cofee &  then brush liquid coffee onto each cupcake using silicone baking brush.  ** I usually make 3 fork piercings across top **.</li><li>Fill pastry/icing bag with mascarpone filling & inject about 1 spoonful via bag directly into top-center of each cupcake.</li><li>Prepare Cream Cheese Buttercream Frosting: Beat butter and cream cheese until creamy with hand mixer on low.   Slowly add powdered sugar, scraping down the sides of the bowl as necessary. Add vanilla and increase mixer to medium. Blend until frosting is fluffy.</li><li>Frost each cupcake with frosting & garnish with chocolate shavings (use dark chocolate bar & cheese grater).</li><ol> </div>
		<h5> Reviews </h5>
		<div>Your Rating:&nbsp;&nbsp; <b id="sliderValue">0</b><p/>
			<div style="width:200px" id="slider" class="ui-slider" ></div>
		</div>
		<button class="btn btn-embossed btn-primary" onclick="submitRating()">
			Submit Rating
		</button>
		<div id="submsg"> </div>
		<br/><br/><br/><br/><br/>
	</div>
    <!-- /.container -->


    <!-- Load JS here for greater good =============================-->
	
    <script src="js/jquery-1.8.3.min.js"></script>
    <script src="js/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="js/jquery.ui.touch-punch.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-select.js"></script>
    <script src="js/bootstrap-switch.js"></script>
    <script src="js/flatui-checkbox.js"></script>
    <script src="js/flatui-radio.js"></script>
    <script src="js/jquery.tagsinput.js"></script>
    <script src="js/jquery.placeholder.js"></script>
	<script>
	function load(){
		var $slider = $("#slider");
		if ($slider.length > 0) {
		  $slider.slider({
			min: 0,
			max: 5,
			value: 0,
			orientation: "horizontal",
			range: "min",
			change: function(e){
					$('#sliderValue').html($("#slider").slider("option","value"))
				}
		  }).addSliderSegments($slider.slider("option").max);
		}
	}
	</script>
	<script>
	function submitRating(){
		var xhr = new XMLHttpRequest();
		url = "http://localhost/food/rating.py?rating="+document.getElementById("sliderValue").innerHTML+"&recipe="+encodeURIComponent(document.getElementById("title").innerHTML)
		xhr.open("GET",url,true)
		xhr.onreadystatechange =  function(){
			if(xhr.readyState == 4 && xhr.status == 200)
			{
				document.getElementById("submsg").innerHTML = xhr.responseText
				//alert(xhr.responseText)
			}
		}
		xhr.send()
		
	}
	</script>
  </body>
</html>