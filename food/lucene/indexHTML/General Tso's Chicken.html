<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Foodie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Loading Bootstrap -->
    <link href="bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="css/flat-ui.css" rel="stylesheet">

    <link rel="shortcut icon" href="images/favicon.ico">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
  </head>
  <body onload="load()">
    <div class="container">
		<nav style="margin-top:20px" class="navbar navbar-inverse navbar-embossed" role="navigation">
			<div class="navbar-header">
				<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-collapse-04">
					<span class="sr-only">
						Toggle navigation
					</span>
				</button>
				<a class="navbar-brand" href="index.py">
					Foodie
				</a>
			</div>
			<div id="navbar-collapse-04" class="collapse navbar-collapse">
				<form class="navbar-form navbar-left" role="search" action="search.py" method="GET">
					<div class="form-group">
						<input class="form-control" type="text" placeholder="Search" name="q"></input>
					</div>
					<button class="btn btn-default" type="submit">
						Search
					</button>
				</form>
			</div>
		</nav>
		<h3 id="title" style="display:inline"> General Tso's Chicken </h3><span>Chicken breast,Poultry,Meat,Asian,Novelty,Taste/mood,Deep fried,Time to make,Inexpensive,Equipment,Presentation,Technique</span><br/>
		<div  style="padding:3px;border: solid #34495E 1px;width:auto;clear:both;overflow:auto;float:left;margin-right:40px" ><img style="" height="200px" src="http://img.food.com/img/recipes/16/47/06/large/picQAfCqJ.jpg" /></div>
		<h5> Ingredients </h5>
		<table width="400px"><tr><td> <ul><li>boneless skinless chicken breasts, cut into chunks</li><li>green onions, sliced</li><li>dried chilies, seeds removed (bird pepper or thai chilies are good)</li><li>soy sauce, low sodium preferred</li><li>egg, beaten</li><li>cornstarch</li><li>cornstarch</li><li>water</li><li>fresh garlic, minced</li><li>sugar</li><li>soy sauce</li><li>white vinegar</li><li>chicken broth (a can)</li></ul> </td></tr></table>
		<h5> Method </h5>
		<div> <ol><li>Place sauce ingredients in a quart jar with a lid and shake to mix. If you make this ahead of time just refrigerate until needed, shaking it again when you are ready to use it. This also keeps your dirty dishes down.</li><li>Mix cornstarch slurry in a large bowl- the mixture will be strange but trust me it works. It will be VERY thick almost paste like. Add chicken pieces to coat. Using a fork remove ONE chicken piece at a time and let the excess mixture drip off. YES even though the mixture has a weird consistency it will not stick like paste and the excess will drip off. Add chicken to the hot (350 degree) oil and fry until crispy. Only cook 7 or 8 chicken pieces at a time. You do not want to lower the temp of the oil by cooking too many at a time. You can use a simple cooking or candy thermometer to judge the temp of the oil.</li><li>Drain on paper towels. Keep warm- I just put them in the oven with the oven off. Repeating until all chicken is fried.</li><li>In a separate wok or large skillet add a small amount of oil and heat to 400 degrees. Again, a candy thermometer works great. You can fry all the chicken, drain the oil to the desired amount and use the same pan if you like.</li><li>Add green onions and hot peppers and stir fry about 30 seconds.</li><li>Stir sauce mixture, and then add to pan with onions and peppers, cook until thick. If it gets too thick, add a little water. The thickness of the sauce should be similar to what you get when ordering this at a restaurant.</li><li>Add chicken to sauce in wok, and cook until all is hot and bubbly. The quicker this is done the crispier the chicken stays.</li><li>Serve over rice.</li><ol> </div>
		<h5> Reviews </h5>
		<div>Your Rating:&nbsp;&nbsp; <b id="sliderValue">0</b><p/>
			<div style="width:200px" id="slider" class="ui-slider" ></div>
		</div>
		<button class="btn btn-embossed btn-primary" onclick="submitRating()">
			Submit Rating
		</button>
		<div id="submsg"> </div>
		<br/><br/><br/><br/><br/>
	</div>
    <!-- /.container -->


    <!-- Load JS here for greater good =============================-->
	
    <script src="js/jquery-1.8.3.min.js"></script>
    <script src="js/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="js/jquery.ui.touch-punch.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-select.js"></script>
    <script src="js/bootstrap-switch.js"></script>
    <script src="js/flatui-checkbox.js"></script>
    <script src="js/flatui-radio.js"></script>
    <script src="js/jquery.tagsinput.js"></script>
    <script src="js/jquery.placeholder.js"></script>
	<script>
	function load(){
		var $slider = $("#slider");
		if ($slider.length > 0) {
		  $slider.slider({
			min: 0,
			max: 5,
			value: 0,
			orientation: "horizontal",
			range: "min",
			change: function(e){
					$('#sliderValue').html($("#slider").slider("option","value"))
				}
		  }).addSliderSegments($slider.slider("option").max);
		}
	}
	</script>
	<script>
	function submitRating(){
		var xhr = new XMLHttpRequest();
		url = "http://localhost/food/rating.py?rating="+document.getElementById("sliderValue").innerHTML+"&recipe="+encodeURIComponent(document.getElementById("title").innerHTML)
		xhr.open("GET",url,true)
		xhr.onreadystatechange =  function(){
			if(xhr.readyState == 4 && xhr.status == 200)
			{
				document.getElementById("submsg").innerHTML = xhr.responseText
				//alert(xhr.responseText)
			}
		}
		xhr.send()
		
	}
	</script>
  </body>
</html>